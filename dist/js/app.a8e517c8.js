(function(t){function e(e){for(var i,a,r=e[0],l=e[1],c=e[2],f=0,d=[];f<r.length;f++)a=r[f],o[a]&&d.push(o[a][0]),o[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,r=1;r<n.length;r++){var l=n[r];0!==o[l]&&(i=!1)}i&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},o={1:0},s=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;s.push([7,0]),n()})({"/HCq":function(t,e,n){"use strict";var i=n("gYOj"),o=n.n(i);o.a},"2uDH":function(t,e,n){"use strict";var i=n("E0gC"),o=n.n(i);o.a},"5zMI":function(t,e,n){},7:function(t,e,n){t.exports=n("Vtdi")},"7EbL":function(t,e,n){},E0gC:function(t,e,n){},L6y7:function(t,e,n){"use strict";var i=n("o7w9"),o=n.n(i);o.a},Vtdi:function(t,e,n){"use strict";n.r(e);n("VRzm");var i=n("Kw5r"),o=(n("ksaK"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Navbar"),n("div",{staticClass:"section"},[n("div",{staticClass:"container"},[n("router-view")],1)])],1)}),s=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-navbar"},[n("nav",{staticClass:"navbar is-dark"},[n("div",{staticClass:"navbar-brand"},[n("router-link",{staticClass:"navbar-item",attrs:{to:"/"}},[n("img",{attrs:{src:"http://placehold.it/640x160"}})]),n("div",{staticClass:"navbar-burger burger",on:{click:t.toggleMenu}},[n("span"),n("span"),n("span")])],1),n("div",{staticClass:"navbar-menu",class:{"is-active":t.visible.menu}},[n("div",{staticClass:"navbar-start"},[n("router-link",{staticClass:"navbar-item",attrs:{to:"/"}},[t._v("Home")]),n("a",{staticClass:"navbar-item",on:{click:t.newGrid}},[t._v("New Game")]),n("a",{staticClass:"navbar-item",on:{click:t.toggleOptions}},[t._v("Options")])],1),t._m(0)])]),n("transition",{attrs:{name:"fade"}},[t.visible.gameOptions?n("Modal",{on:{close:t.toggleOptions}},[n("GameOptions")],1):t._e()],1)],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbar-end"},[n("div",{staticClass:"navbar-item"},[n("div",{staticClass:"field is-grouped"},[n("p",{staticClass:"control"},[n("a",{staticClass:"bd-tw-button button",attrs:{"data-social-network":"Twitter","data-social-action":"tweet","data-social-target":"http://localhost:4000",target:"_blank",href:"https://twitter.com/intent/tweet?text=Bulma: a modern CSS framework based on Flexbox&hashtags=bulmaio&url=http://localhost:4000&via=jgthms"}},[n("span",{staticClass:"icon"},[n("i",{staticClass:"fab fa-twitter"})]),n("span",[t._v("Tweet")])])])])])])}],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal is-active"},[n("div",{staticClass:"modal-background",on:{click:t.close}}),n("div",{staticClass:"modal-content"},[n("div",{staticClass:"box"},[t._t("default")],2)]),n("button",{staticClass:"modal-close is-large",on:{click:t.close}})])},c=[],u={name:"Modal",methods:{close:function(){this.$emit("close")}}},f=u,d=(n("/HCq"),n("KHd+")),m=Object(d["a"])(f,l,c,!1,null,null,null),v=m.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"game-options"},[t._v("Game config options here")])},p=[],g={name:"GameOptions",data:function(){return{presets:[{name:"beginner",columns:9,rows:9,mines:10,selectedClass:"is-success",selected:!0},{name:"intermediate",columns:16,rows:16,mines:40,selectedClass:"is-warning",selected:!1},{name:"expert",columns:30,rows:16,mines:99,selectedClass:"is-danger",selected:!1}]}}},b=g,y=(n("2uDH"),Object(d["a"])(b,h,p,!1,null,null,null)),w=y.exports,C={name:"NavBar",components:{Modal:v,GameOptions:w},data:function(){return{visible:{menu:!1,gameOptions:!1}}},methods:{toggleMenu:function(){this.visible.menu=!this.visible.menu},toggleOptions:function(){this.visible.gameOptions=!this.visible.gameOptions},newGrid:function(){this.$store.dispatch("generateTiles")}}},x=C,O=(n("iUoF"),Object(d["a"])(x,a,r,!1,null,null,null)),_=O.exports,j={components:{Navbar:_}},T=j,k=(n("ZCWV"),Object(d["a"])(T,o,s,!1,null,null,null)),M=k.exports,S=n("jE9Z"),D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"game"},[n("Grid")],1)},$=[],E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"grid",style:{height:t.height,width:t.width}},[t._l(t.tileDirectory,function(e){return t._l(e,function(t){return n("Tile",{key:t.key,attrs:{tile:t}})})})],2)},G=[],z=n("yT7P"),H=n("L2JU"),P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"game-tile",style:t.styleObject},[t.tile.covered?n("div",{staticClass:"cover",class:{flagged:t.tile.flagged},on:{click:t.showTile,contextmenu:function(e){return e.preventDefault(),t.flagTile(e)}}}):n("div",{staticClass:"content"},[t.tile.mine?n("div",{staticClass:"mine"}):n("div",{staticClass:"mine-count",class:t.colorClass},[t._v(t._s(t.tile.count))])])])},L=[],V={name:"Tile",props:{tile:{type:Object,required:!0}},computed:Object(z["a"])({},Object(H["c"])(["columns","rows"]),{styleObject:function(){return{width:"".concat(100/this.columns,"%"),height:"".concat(100/this.rows,"%")}},colorClass:function(){return"color-".concat(this.tile.count)},tileCoordinates:function(){return{x:this.tile.x,y:this.tile.y}}}),watch:{tile:{handler:function(){this.tile.autoShow&&this.showTile()},deep:!0}},methods:{showTile:function(){this.tile.covered&&!this.tile.flagged&&this.$store.dispatch("showTile",this.tileCoordinates)},flagTile:function(){this.tile.covered&&this.$store.commit("flagTile",this.tileCoordinates)}}},A=V,N=(n("xolC"),Object(d["a"])(A,P,L,!1,null,null,null)),q=N.exports,F={name:"Grid",components:{Tile:q},computed:Object(z["a"])({},Object(H["c"])(["tileDirectory"]),Object(H["b"])(["width","height"])),created:function(){this.$store.dispatch("generateTiles")}},J=F,K=(n("L6y7"),Object(d["a"])(J,E,G,!1,null,null,null)),U=K.exports,Z={name:"Game",components:{Grid:U}},B=Z,I=Object(d["a"])(B,D,$,!1,null,null,null),R=I.exports;i["a"].use(S["a"]);var W=new S["a"]({mode:"history",routes:[{path:"/",name:"home",component:R}]}),Y=function(t){return"".concat(t.columns*t.tileSize,"px")},Q=function(t){return"".concat(t.rows*t.tileSize,"px")},X={width:Y,height:Q},tt=function(t,e){for(var n=new Array(t),i=0;i<n.length;i++)n[i]=new Array(e);return n},et=function(t){var e=t.state,n=t.commit,i=t.dispatch;console.log("Generating Tiles");for(var o=tt(e.columns,e.rows),s=0,a=0;a<e.columns;a++)for(var r=0;r<e.rows;r++){var l={key:s,x:a,y:r,mine:!1,count:0,covered:!0,flagged:!1,autoShow:!1};o[a][r]=l,s++}n("setTileDirectory",o),i("generateMines")},nt=function(t){var e=t.state,n=t.commit,i=t.dispatch;console.log("Making Mines");for(var o=[],s=0;s<e.columns;s++)for(var a=0;a<e.rows;a++)o.push({x:s,y:a});for(var r=0;r<e.mineCount;r++){var l=Math.floor(Math.random()*o.length),c=o[l],u=c.x,f=c.y;o.splice(l,1),n("setMine",{x:u,y:f})}i("generateCount")},it=function(t){var e=t.state,n=t.commit;console.log("Counting...");for(var i=0;i<e.columns;i++)for(var o=0;o<e.rows;o++){var s=e.tileDirectory[i][o],a=0;if(s.mine)a=-1;else for(var r=-1;r<=1;r++)for(var l=-1;l<=1;l++){var c=s.x+r,u=s.y+l;if(c>-1&&c<e.columns&&u>-1&&u<e.rows){var f=e.tileDirectory[c][u];f.mine&&a++}}n("setSurroundingCount",{x:s.x,y:s.y,count:a})}},ot=function(t,e){var n=t.state,i=t.commit;i("showTile",e);var o=n.tileDirectory[e.x][e.y];if(0===o.count)for(var s=-1;s<=1;s++)for(var a=-1;a<=1;a++){var r=o.x+s,l=o.y+a;if(r>-1&&r<n.columns&&l>-1&&l<n.rows){var c=n.tileDirectory[r][l];!c.mine&&c.covered&&i("setAutoShow",{x:r,y:l})}}},st=function(t){var e=t.commit;e("setMineCount",20)},at={generateTiles:et,generateMines:nt,generateCount:it,showTile:ot,setMineCount:st},rt=function(t,e){t.tileDirectory=e},lt=function(t,e){t.tileDirectory[e.x][e.y].mine=!0},ct=function(t,e){t.tileDirectory[e.x][e.y].count=e.count},ut=function(t,e){t.tileDirectory[e.x][e.y].covered=!1},ft=function(t,e){t.tileDirectory[e.x][e.y].flagged=!t.tileDirectory[e.x][e.y].flagged},dt=function(t,e){t.tileDirectory[e.x][e.y].autoShow=!0},mt=function(t,e){t.tileSize=e},vt=function(t,e){t.columns=e},ht=function(t,e){t.rows=e},pt=function(t,e){t.mineCount=e},gt={setTileDirectory:rt,setMine:lt,setSurroundingCount:ct,showTile:ut,flagTile:ft,setAutoShow:dt,setTileSize:mt,setColumns:vt,setRows:ht,setMineCount:pt};i["a"].use(H["a"]);var bt={tileDirectory:[],tileSize:30,columns:9,rows:9,mineCount:10},yt=new H["a"].Store({state:bt,getters:X,actions:at,mutations:gt});i["a"].config.productionTip=!1,new i["a"]({router:W,store:yt,render:function(t){return t(M)}}).$mount("#app")},ZCWV:function(t,e,n){"use strict";var i=n("7EbL"),o=n.n(i);o.a},gYOj:function(t,e,n){},iUoF:function(t,e,n){"use strict";var i=n("5zMI"),o=n.n(i);o.a},o7w9:function(t,e,n){},xolC:function(t,e,n){"use strict";var i=n("yHkd"),o=n.n(i);o.a},yHkd:function(t,e,n){}});
//# sourceMappingURL=app.a8e517c8.js.map